<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Expense Tracker</title>
    <style>
        .addBtn {
            transform: scale(1.05);
            box-shadow: 0 6px 14px rgba(0,0,0,0.2);
            padding: 6px 12px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }
        .addBtn:hover {
            background: #45a049;
        }
    </style>
</head>
<body class="font-sans bg-gray-100">
<h1>Welcome Back, <span th:text="${name}"></span></h1>
<h2>Current Balance: <span th:text="${balance}"></span></h2>

<!-- Add Transaction Form -->
<div>
    <form th:action="@{/addTransaction}" method="post">
        <label>Type:</label>
        <select name="transactionType" required>
            <option value="INCOME">Income</option>
            <option value="EXPENSE">Expense</option>
        </select>

        <label>Category:</label>
        <select name="transactionCategory" required>
            <option value="SALARY">Salary</option>
            <option value="TIP">Tip</option>
            <option value="SANACK">Snack</option>
            <option value="PH_BILL">Ph_bill</option>
            <option value="MEAL_BILL">Meal Bill</option>
        </select>

        <label>Amount:</label>
        <input type="number" name="amount" required />

        <button type="submit">Add Transaction</button>
    </form>

</div>

<h1>Monthly Transactions</h1>
<h3 th:text="'Hello, ' + ${name} + '! Balance: ' + ${balance}"></h3>
<h4 th:text="'Month: ' + ${month} + ', Year: ' + ${year}"></h4>

<table border="1" cellpadding="6" cellspacing="0">
    <thead>
    <tr>
        <th>ID</th>
        <th>Type</th>
        <th>Category</th>
        <th>Amount</th>
        <th>Date</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="t : ${transactions}">
        <td th:text="${t.transactionId}"></td>
        <td th:text="${t.transactionType}" th:class="${t.transactionType == 'INCOME'} ? 'income' : 'expense'"></td>
        <td th:text="${t.transactionCategory}"></td>
        <td th:text="${t.amount}"></td>
        <td th:text="${t.createdAt}"></td>
    </tr>
    </tbody>
</table>

<!-- Transaction List -->
<h3>All Transactions</h3>
<table border="1" cellpadding="6" cellspacing="0">
    <thead>
    <tr>
        <th>Transaction ID</th>
        <th>Transaction Type</th>
        <th>Transaction Category</th>
        <th>Amount</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="transaction : ${transactions}">
        <td th:text="${transaction.transactionId}"></td>
        <td th:text="${transaction.transactionType}"></td>
        <td th:text="${transaction.transactionCategory}"></td>
        <td th:text="${transaction.amount}"></td>
    </tr>
    </tbody>
</table>
</body>
</html>
